!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("db",t):(e="undefined"!=typeof globalThis?globalThis:e||self,function(){var n=e.db,r=e.db=t();r.noConflict=function(){return e.db=n,r}}())}(this,(function(){const e={namespace:"app",separator:".",trimKeys:!0,expiry:!0};function t(t){e.namespace=t}function n(){return e.separator}var r={version:"1.1.0",createNamespace:function(t){e.namespace=t},getCurrentNamespace:function(){return e.namespace},switchNamespace:t,get:function(){return e},setSeparator:function(t){e.separator=t},getSeparator:n,generateKey:function(t){return`${e.namespace}${e.separator}${t}`}};function o(e){return void 0===e}function i(e){return null===e||"null"===e}var s={parse:function(e){try{return JSON.parse(e)}catch{return e}},isUndefined:o,isNull:i};function a(e){return o(e)||i(e)}var u={from:function(e){e&&t(e)},get:function(e,t=null){if(a(e))return null;const n=r.generateKey(e),o=this.storage.getItem(n);if(s.isNull(o))return t;try{let n=s.parse(o);return n.expire&&Date.now()>n.expire?(this.remove(e),t):n.value}catch{return t}},set:function(e,t,n={}){if(a(e))return null;const o=r.generateKey(e),{expire:i}=n;let s={value:t,...i?{expire:Date.now()+i}:{}};this.storage.setItem(o,JSON.stringify(s))},has:function(e){return!!this.get(e)},remove:function(e){const t=r.generateKey(e);return this.storage.removeItem(t)},clear:function(){return this.storage.clear()},key:function(e){return this.storage.key(e)},keys:function(){const e=[];for(let t=0;t<this.storage.length;t++)e.push(this.storage.key(t));return e},trim:function(e){return this.storage.get(e).trim()},getFormattedData:function(e){const t={},r=n();for(let n=0,o=this.storage.length;n<o;n++){const o=this.key(n),[,i,s]=o.split(`${r}`,3);i===e&&s&&(t[s]=this.get(`${i}${r}${s}`))}return t},setFormattedData:function(e,t){const r=n();for(let n in t)n in t&&this.set(`${e}${r}${n}`,t[n])}};function c(e){return{storage:e,get count(){return e.length},...u}}function f(e){if(!e)throw new Error("Storage is not supported in this environment.");return e}return{config:r,local:c(f(window.localStorage)),session:c(f(window.sessionStorage))}}));