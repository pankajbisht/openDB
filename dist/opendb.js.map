{"version":3,"file":"opendb.js","mappings":"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","sources":["webpack://opendb/./src/config/config.js","webpack://opendb/./src/config/index.js","webpack://opendb/./src/core/index.js","webpack://opendb/./src/core/storage.js","webpack://opendb/./src/core/support.js","webpack://opendb/./src/modules/clear.js","webpack://opendb/./src/modules/from.js","webpack://opendb/./src/modules/get.js","webpack://opendb/./src/modules/getFormattedData.js","webpack://opendb/./src/modules/has.js","webpack://opendb/./src/modules/index.js","webpack://opendb/./src/modules/key.js","webpack://opendb/./src/modules/keys.js","webpack://opendb/./src/modules/operations.js","webpack://opendb/./src/modules/remove.js","webpack://opendb/./src/modules/set.js","webpack://opendb/./src/modules/setFormattedData.js","webpack://opendb/./src/modules/trim.js","webpack://opendb/webpack/bootstrap","webpack://opendb/webpack/runtime/define property getters","webpack://opendb/webpack/runtime/hasOwnProperty shorthand","webpack://opendb/webpack/runtime/make namespace object","webpack://opendb/./src/index.js"],"sourcesContent":["export const config = {\n    namespace: \"app\",\n    separator: \".\",\n    trimKeys: true,\n    expiry: true\n};\n\nexport function createNamespace(namespace) {\n    config.namespace = namespace;\n}\n\nexport function switchNamespace(namespace) {\n    config.namespace = namespace;\n}\n\nexport function getCurrentNamespace() {\n    return config.namespace;\n}\n\nexport function get() {\n    return config;\n}\n\nexport function setSeparator(separator) {\n    config.separator = separator;\n}\n\nexport function getSeparator(separator) {\n    return config.separator;\n}\n","import { createNamespace, get, getCurrentNamespace, switchNamespace, setSeparator, getSeparator } from \"./config.js\";\n\nexport default {\n    createNamespace,\n    getCurrentNamespace,\n    switchNamespace,\n    get,\n    setSeparator,\n    getSeparator\n}\n","export { default } from \"./storage.js\";\n","import config from '../config/index.js';\nimport { storageoperations } from '../modules/operations.js';\nimport ensureSupport, { working } from './support.js';\n\n\nconst db = {\n    config,\n    local: storageoperations(ensureSupport(window.localStorage)),\n    session: storageoperations(ensureSupport(window.sessionStorage))\n};\n\nexport default db;\n","export default function ensureSupport(storage) {\n    if (!storage) {\n        throw new Error(\"Storage is not supported in this environment.\");\n    }\n    return storage;\n}\n\nexport function working(storage) {\n    if (!storage) {\n        return false\n    }\n    return true;\n}\n","export default function clear() {\n    return this.storage.clear();\n}\n","import { switchNamespace } from '../config/config.js';\n\nexport default function from(namespace) {\n    if (namespace) {\n        switchNamespace(namespace);\n    }\n}\n","import { getCurrentNamespace, getSeparator } from '../config/config.js';\n\nexport default function get(key) {\n    const seprator = getSeparator();\n    const namespcaekey = `${getCurrentNamespace()}${seprator}${key}`\n    const value = this.storage.getItem(namespcaekey);\n\n    if (value === 'null') {\n        return null;\n    }\n\n    try {\n        return JSON.parse(value);\n    } catch (e) {\n        return value;\n    }\n}\n","import { getSeparator } from '../config/config.js';\n\nexport default function getFormattedData(key) {\n    const result = {};\n    const seprator = getSeparator();\n\n    for (let i = 0, size = this.storage.length; i < size; i++) {\n        const completkey = this.key(i);\n        const [namespace, objectkey, currentkey] = completkey.split(`${seprator}`, 3);\n\n        if (objectkey === key && currentkey) {\n            result[currentkey] = this.get(`${objectkey}${seprator}${currentkey}`);\n        }\n    }\n\n    return result;\n}\n","export default function has(key) {\n    return !!this.get(key);\n}\n","import from from \"./from.js\";\nimport get from \"./get.js\";\nimport set from \"./set.js\";\nimport has from \"./has.js\";\nimport remove from \"./remove.js\";\nimport clear from \"./clear.js\";\nimport key from \"./key.js\";\nimport keys from \"./keys.js\";\nimport trim from \"./trim.js\";\nimport setFormattedData from './setFormattedData.js'\nimport getFormattedData from './getFormattedData.js'\n\nexport default {\n    from,\n    get,\n    set,\n    has,\n    remove,\n    clear,\n    key,\n    keys,\n    trim,\n    getFormattedData,\n    setFormattedData\n};\n","export default function key(index) {\n    return this.storage.key(index);\n}\n","import key from \"./key.js\"\n\nexport default function keys() {\n    const keys = []\n\n    for (let index = 0; index < this.storage.length; index++) {\n        // let key = this.storage[index];\n        keys.push(this.storage.key(index));\n    }\n\n    return keys;\n}\n","import storageMethods from \"./index.js\";\n\nexport function storageoperations(storage) {\n    return {\n        storage,\n        get count() {\n            return storage.length;\n        },\n        ...storageMethods\n    }\n}\n","export default function remove(key) {\n    return this.storage.removeItem(key);\n}\n","import { getCurrentNamespace, getSeparator } from '../config/config.js';\n\n\nexport default function set(key, value) {\n    const seprator = getSeparator();\n    const namespcaekey = `${getCurrentNamespace()}${seprator}${key}`\n\n    if (value === null || value === undefined) {\n        this.storage.setItem(namespcaekey, 'null');\n    } else if (typeof value === 'object') {\n        this.storage.setItem(namespcaekey, JSON.stringify(value));\n    } else {\n        this.storage.setItem(namespcaekey, String(value));\n    }\n}\n","import { getSeparator } from '../config/config.js';\n\nexport default function setFormattedData(key, obj) {\n    const seprator = getSeparator();\n\n    for (let k in obj) {\n        if (obj.hasOwnProperty(k)) {\n            this.set(`${key}${seprator}${k}`, obj[k]);\n        }\n    }\n}\n","export default function trim(key) {\n    return this.storage.get(key).trim();\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export { default }  from \"./core/index.js\";\n"],"names":["config","namespace","separator","trimKeys","expiry","createNamespace","switchNamespace","getCurrentNamespace","get","setSeparator","getSeparator","default","storageoperations","ensureSupport","working","db","local","window","localStorage","session","sessionStorage","storage","Error","clear","from","key","seprator","namespcaekey","concat","value","getItem","JSON","parse","e","getFormattedData","result","i","size","length","completkey","_completkey$split","split","_completkey$split2","_slicedToArray","objectkey","currentkey","has","set","remove","keys","trim","setFormattedData","index","push","storageMethods","_objectSpread","count","removeItem","undefined","setItem","_typeof","stringify","String","obj","k","hasOwnProperty"],"sourceRoot":""}