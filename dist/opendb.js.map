{"version":3,"file":"opendb.js","mappings":";;;;;;;;;;;;;;;;;;AAAO,IAAMA,MAAM,GAAG;EACpBC,SAAS,EAAE,KAAK;EAChBC,SAAS,EAAE,GAAG;EACdC,QAAQ,EAAE,IAAI;EACdC,MAAM,EAAE;AACV,CAAC;AAEM,SAASC,eAAeA,CAACJ,SAAS,EAAE;EACzCD,MAAM,CAACC,SAAS,GAAGA,SAAS;AAC9B;AAEO,SAASK,eAAeA,CAACL,SAAS,EAAE;EACzCD,MAAM,CAACC,SAAS,GAAGA,SAAS;AAC9B;AAEO,SAASM,mBAAmBA,CAAA,EAAG;EACpC,OAAOP,MAAM,CAACC,SAAS;AACzB;AAEO,SAASO,GAAGA,CAAA,EAAG;EACpB,OAAOR,MAAM;AACf;AAEO,SAASS,YAAYA,CAACP,SAAS,EAAE;EACtCF,MAAM,CAACE,SAAS,GAAGA,SAAS;AAC9B;AAEO,SAASQ,YAAYA,CAAA,EAAG;EAC7B,OAAOV,MAAM,CAACE,SAAS;AACzB;;;;;;;;;;;;;;;ACtBqB;AAErB,iEAAe;EACbG,eAAe,EAAfA,uDAAe;EACfE,mBAAmB,EAAnBA,2DAAmB;EACnBD,eAAe,EAAfA,uDAAe;EACfE,GAAG,EAAHA,2CAAG;EACHC,YAAY,EAAZA,oDAAY;EACZC,YAAY,EAAZA,oDAAYA;AACd,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEhBuC;AACqB;AACpB;AAEzC,IAAMI,EAAE,GAAG;EACTd,MAAM,EAANA,wDAAM;EACNe,KAAK,EAAEH,yEAAiB,CAACC,uDAAa,CAACG,MAAM,CAACC,YAAY,CAAC,CAAC;EAC5DC,OAAO,EAAEN,yEAAiB,CAACC,uDAAa,CAACG,MAAM,CAACG,cAAc,CAAC;AACjE,CAAC;AAED,iEAAeL,EAAE;;;;;;;;;;;;;;;ACVF,SAASD,aAAaA,CAACO,OAAO,EAAE;EAC7C,IAAI,CAACA,OAAO,EAAE;IACZ,MAAM,IAAIC,KAAK,CAAC,+CAA+C,CAAC;EAClE;EACA,OAAOD,OAAO;AAChB;AAEO,SAASE,OAAOA,CAACF,OAAO,EAAE;EAC/B,IAAI,CAACA,OAAO,EAAE;IACZ,OAAO,KAAK;EACd;EACA,OAAO,IAAI;AACb;;;;;;;;;;;;;;ACZe,SAASG,KAAKA,CAAA,EAAG;EAC9B,OAAO,IAAI,CAACH,OAAO,CAACG,KAAK,CAAC,CAAC;AAC7B;;;;;;;;;;;;;;;ACFsD;AAEvC,SAASC,IAAIA,CAACvB,SAAS,EAAE;EACtC,IAAIA,SAAS,EAAE;IACbK,kEAAe,CAACL,SAAS,CAAC;EAC5B;AACF;;;;;;;;;;;;;;;;ACNwE;AAClC;AAEvB,SAASO,GAAGA,CAACkB,GAAG,EAAE;EAC/B,IAAMC,QAAQ,GAAGjB,+DAAY,CAAC,CAAC;EAC/B,IAAMkB,YAAY,MAAAC,MAAA,CAAMtB,sEAAmB,CAAC,CAAC,EAAAsB,MAAA,CAAGF,QAAQ,EAAAE,MAAA,CAAGH,GAAG,CAAE;EAChE,IAAMI,KAAK,GAAG,IAAI,CAACV,OAAO,CAACW,OAAO,CAACH,YAAY,CAAC;EAEhD,IAAIE,KAAK,KAAK,MAAM,EAAE;IACpB,OAAO,IAAI;EACb;EAEA,OAAOL,2DAAK,CAACK,KAAK,CAAC;AACrB;;;;;;;;;;;;;;;;;;;;;ACbmD;AAEpC,SAASE,gBAAgBA,CAACN,GAAG,EAAE;EAC5C,IAAMO,MAAM,GAAG,CAAC,CAAC;EACjB,IAAMN,QAAQ,GAAGjB,+DAAY,CAAC,CAAC;EAE/B,KAAK,IAAIwB,CAAC,GAAG,CAAC,EAAEC,IAAI,GAAG,IAAI,CAACf,OAAO,CAACgB,MAAM,EAAEF,CAAC,GAAGC,IAAI,EAAED,CAAC,EAAE,EAAE;IACzD,IAAMG,UAAU,GAAG,IAAI,CAACX,GAAG,CAACQ,CAAC,CAAC;IAC9B,IAAAI,iBAAA,GAAkCD,UAAU,CAACE,KAAK,IAAAV,MAAA,CAAIF,QAAQ,GAAI,CAAC,CAAC;MAAAa,kBAAA,GAAAC,cAAA,CAAAH,iBAAA;MAA3DI,SAAS,GAAAF,kBAAA;MAAEG,UAAU,GAAAH,kBAAA;IAE9B,IAAIE,SAAS,KAAKhB,GAAG,IAAIiB,UAAU,EAAE;MACnCV,MAAM,CAACU,UAAU,CAAC,GAAG,IAAI,CAACnC,GAAG,IAAAqB,MAAA,CAAIa,SAAS,EAAAb,MAAA,CAAGF,QAAQ,EAAAE,MAAA,CAAGc,UAAU,CAAE,CAAC;IACvE;EACF;EAEA,OAAOV,MAAM;AACf;;;;;;;;;;;;;;AChBe,SAASW,GAAGA,CAAClB,GAAG,EAAE;EAC/B,OAAO,CAAC,CAAC,IAAI,CAAClB,GAAG,CAACkB,GAAG,CAAC;AACxB;;;;;;;;;;;;;;;;;;;;;;;;;ACF6B;AACF;AACA;AACA;AACM;AACF;AACJ;AACE;AACA;AACwB;AACA;AAErD,iEAAe;EACbF,IAAI,EAAJA,gDAAI;EACJhB,GAAG,EAAHA,+CAAG;EACHqC,GAAG,EAAHA,+CAAG;EACHD,GAAG,EAAHA,+CAAG;EACHE,MAAM,EAANA,kDAAM;EACNvB,KAAK,EAALA,iDAAK;EACLG,GAAG,EAAHA,+CAAG;EACHqB,IAAI,EAAJA,gDAAI;EACJC,IAAI,EAAJA,gDAAI;EACJhB,gBAAgB,EAAhBA,6DAAgB;EAChBiB,gBAAgB,EAAhBA,4DAAgBA;AAClB,CAAC;;;;;;;;;;;;;;ACxBc,SAASvB,GAAGA,CAACwB,KAAK,EAAE;EACjC,OAAO,IAAI,CAAC9B,OAAO,CAACM,GAAG,CAACwB,KAAK,CAAC;AAChC;;;;;;;;;;;;;;ACFe,SAASH,IAAIA,CAAA,EAAG;EAC7B,IAAMA,IAAI,GAAG,EAAE;EAEf,KAAK,IAAIG,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAG,IAAI,CAAC9B,OAAO,CAACgB,MAAM,EAAEc,KAAK,EAAE,EAAE;IACxDH,IAAI,CAACI,IAAI,CAAC,IAAI,CAAC/B,OAAO,CAACM,GAAG,CAACwB,KAAK,CAAC,CAAC;EACpC;EAEA,OAAOH,IAAI;AACb;;;;;;;;;;;;;;;;;;;;;ACRwC;AAEjC,SAASnC,iBAAiBA,CAACQ,OAAO,EAAE;EACzC,OAAAiC,aAAA;IACEjC,OAAO,EAAPA,OAAO;IACP,IAAIkC,KAAKA,CAAA,EAAG;MACV,OAAOlC,OAAO,CAACgB,MAAM;IACvB;EAAC,GACEgB,iDAAc;AAErB;;;;;;;;;;;;;;;ACVwE;AAEzD,SAASN,MAAMA,CAACpB,GAAG,EAAE;EAClC,IAAMC,QAAQ,GAAGjB,+DAAY,CAAC,CAAC;EAC/B,IAAMkB,YAAY,MAAAC,MAAA,CAAMtB,sEAAmB,CAAC,CAAC,EAAAsB,MAAA,CAAGF,QAAQ,EAAAE,MAAA,CAAGH,GAAG,CAAE;EAEhE,OAAO,IAAI,CAACN,OAAO,CAACmC,UAAU,CAAC3B,YAAY,CAAC;AAC9C;;;;;;;;;;;;;;;;ACPwE;AAEzD,SAASiB,GAAGA,CAACnB,GAAG,EAAEI,KAAK,EAAE;EACtC,IAAMH,QAAQ,GAAGjB,+DAAY,CAAC,CAAC;EAC/B,IAAMkB,YAAY,MAAAC,MAAA,CAAMtB,sEAAmB,CAAC,CAAC,EAAAsB,MAAA,CAAGF,QAAQ,EAAAE,MAAA,CAAGH,GAAG,CAAE;EAEhE,IAAII,KAAK,KAAK,IAAI,IAAIA,KAAK,KAAK0B,SAAS,EAAE;IACzC,IAAI,CAACpC,OAAO,CAACqC,OAAO,CAAC7B,YAAY,EAAE,MAAM,CAAC;EAC5C,CAAC,MAAM,IAAI8B,OAAA,CAAO5B,KAAK,MAAK,QAAQ,EAAE;IACpC,IAAI,CAACV,OAAO,CAACqC,OAAO,CAAC7B,YAAY,EAAE+B,IAAI,CAACC,SAAS,CAAC9B,KAAK,CAAC,CAAC;EAC3D,CAAC,MAAM;IACL,IAAI,CAACV,OAAO,CAACqC,OAAO,CAAC7B,YAAY,EAAEiC,MAAM,CAAC/B,KAAK,CAAC,CAAC;EACnD;AACF;;;;;;;;;;;;;;;ACbmD;AAEpC,SAASmB,gBAAgBA,CAACvB,GAAG,EAAEoC,GAAG,EAAE;EACjD,IAAMnC,QAAQ,GAAGjB,+DAAY,CAAC,CAAC;EAE/B,KAAK,IAAIqD,CAAC,IAAID,GAAG,EAAE;IACjB,IAAIC,CAAC,IAAID,GAAG,EAAE;MACZ,IAAI,CAACjB,GAAG,IAAAhB,MAAA,CAAIH,GAAG,EAAAG,MAAA,CAAGF,QAAQ,EAAAE,MAAA,CAAGkC,CAAC,GAAID,GAAG,CAACC,CAAC,CAAC,CAAC;IAC3C;EACF;AACF;;;;;;;;;;;;;;ACVe,SAASf,IAAIA,CAACtB,GAAG,EAAE;EAChC,OAAO,IAAI,CAACN,OAAO,CAACZ,GAAG,CAACkB,GAAG,CAAC,CAACsB,IAAI,CAAC,CAAC;AACrC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEFe,SAASvB,KAAKA,CAACK,KAAK,EAAE;EACnC,IAAI;IACF,OAAO6B,IAAI,CAAClC,KAAK,CAACK,KAAK,CAAC;EAC1B,CAAC,CAAC,OAAOkC,GAAG,EAAE;IACZ,OAAOlC,KAAK;EACd;AACF;;;;;;SCNA;SACA;;SAEA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;;SAEA;SACA;;SAEA;SACA;SACA;;;;;UCtBA;UACA;UACA;UACA;UACA,yCAAyC,wCAAwC;UACjF;UACA;UACA;;;;;UCPA;;;;;UCAA;UACA;UACA;UACA,uDAAuD,iBAAiB;UACxE;UACA,gDAAgD,aAAa;UAC7D","sources":["webpack://opendb/./src/config/config.js","webpack://opendb/./src/config/index.js","webpack://opendb/./src/core/index.js","webpack://opendb/./src/core/storage.js","webpack://opendb/./src/core/support.js","webpack://opendb/./src/modules/clear.js","webpack://opendb/./src/modules/from.js","webpack://opendb/./src/modules/get.js","webpack://opendb/./src/modules/getFormattedData.js","webpack://opendb/./src/modules/has.js","webpack://opendb/./src/modules/index.js","webpack://opendb/./src/modules/key.js","webpack://opendb/./src/modules/keys.js","webpack://opendb/./src/modules/operations.js","webpack://opendb/./src/modules/remove.js","webpack://opendb/./src/modules/set.js","webpack://opendb/./src/modules/setFormattedData.js","webpack://opendb/./src/modules/trim.js","webpack://opendb/./src/utils/index.js","webpack://opendb/./src/utils/parse.js","webpack://opendb/webpack/bootstrap","webpack://opendb/webpack/runtime/define property getters","webpack://opendb/webpack/runtime/hasOwnProperty shorthand","webpack://opendb/webpack/runtime/make namespace object","webpack://opendb/./src/index.js"],"sourcesContent":["export const config = {\n  namespace: 'app',\n  separator: '.',\n  trimKeys: true,\n  expiry: true,\n};\n\nexport function createNamespace(namespace) {\n  config.namespace = namespace;\n}\n\nexport function switchNamespace(namespace) {\n  config.namespace = namespace;\n}\n\nexport function getCurrentNamespace() {\n  return config.namespace;\n}\n\nexport function get() {\n  return config;\n}\n\nexport function setSeparator(separator) {\n  config.separator = separator;\n}\n\nexport function getSeparator() {\n  return config.separator;\n}\n","import {\n  createNamespace,\n  get,\n  getCurrentNamespace,\n  switchNamespace,\n  setSeparator,\n  getSeparator,\n} from './config.js';\n\nexport default {\n  createNamespace,\n  getCurrentNamespace,\n  switchNamespace,\n  get,\n  setSeparator,\n  getSeparator,\n};\n","export { default } from './storage.js';\n","import config from '../config/index.js';\nimport { storageoperations } from '../modules/operations.js';\nimport ensureSupport from './support.js';\n\nconst db = {\n  config,\n  local: storageoperations(ensureSupport(window.localStorage)),\n  session: storageoperations(ensureSupport(window.sessionStorage)),\n};\n\nexport default db;\n","export default function ensureSupport(storage) {\n  if (!storage) {\n    throw new Error('Storage is not supported in this environment.');\n  }\n  return storage;\n}\n\nexport function working(storage) {\n  if (!storage) {\n    return false;\n  }\n  return true;\n}\n","export default function clear() {\n  return this.storage.clear();\n}\n","import { switchNamespace } from '../config/config.js';\n\nexport default function from(namespace) {\n  if (namespace) {\n    switchNamespace(namespace);\n  }\n}\n","import { getCurrentNamespace, getSeparator } from '../config/config.js';\nimport parse from '../utils/index.js';\n\nexport default function get(key) {\n  const seprator = getSeparator();\n  const namespcaekey = `${getCurrentNamespace()}${seprator}${key}`;\n  const value = this.storage.getItem(namespcaekey);\n\n  if (value === 'null') {\n    return null;\n  }\n\n  return parse(value);\n}\n","import { getSeparator } from '../config/config.js';\n\nexport default function getFormattedData(key) {\n  const result = {};\n  const seprator = getSeparator();\n\n  for (let i = 0, size = this.storage.length; i < size; i++) {\n    const completkey = this.key(i);\n    const [, objectkey, currentkey] = completkey.split(`${seprator}`, 3);\n\n    if (objectkey === key && currentkey) {\n      result[currentkey] = this.get(`${objectkey}${seprator}${currentkey}`);\n    }\n  }\n\n  return result;\n}\n","export default function has(key) {\n  return !!this.get(key);\n}\n","import from from './from.js';\nimport get from './get.js';\nimport set from './set.js';\nimport has from './has.js';\nimport remove from './remove.js';\nimport clear from './clear.js';\nimport key from './key.js';\nimport keys from './keys.js';\nimport trim from './trim.js';\nimport setFormattedData from './setFormattedData.js';\nimport getFormattedData from './getFormattedData.js';\n\nexport default {\n  from,\n  get,\n  set,\n  has,\n  remove,\n  clear,\n  key,\n  keys,\n  trim,\n  getFormattedData,\n  setFormattedData,\n};\n","export default function key(index) {\n  return this.storage.key(index);\n}\n","export default function keys() {\n  const keys = [];\n\n  for (let index = 0; index < this.storage.length; index++) {\n    keys.push(this.storage.key(index));\n  }\n\n  return keys;\n}\n","import storageMethods from './index.js';\n\nexport function storageoperations(storage) {\n  return {\n    storage,\n    get count() {\n      return storage.length;\n    },\n    ...storageMethods,\n  };\n}\n","import { getCurrentNamespace, getSeparator } from '../config/config.js';\n\nexport default function remove(key) {\n  const seprator = getSeparator();\n  const namespcaekey = `${getCurrentNamespace()}${seprator}${key}`;\n\n  return this.storage.removeItem(namespcaekey);\n}\n","import { getCurrentNamespace, getSeparator } from '../config/config.js';\n\nexport default function set(key, value) {\n  const seprator = getSeparator();\n  const namespcaekey = `${getCurrentNamespace()}${seprator}${key}`;\n\n  if (value === null || value === undefined) {\n    this.storage.setItem(namespcaekey, 'null');\n  } else if (typeof value === 'object') {\n    this.storage.setItem(namespcaekey, JSON.stringify(value));\n  } else {\n    this.storage.setItem(namespcaekey, String(value));\n  }\n}\n","import { getSeparator } from '../config/config.js';\n\nexport default function setFormattedData(key, obj) {\n  const seprator = getSeparator();\n\n  for (let k in obj) {\n    if (k in obj) {\n      this.set(`${key}${seprator}${k}`, obj[k]);\n    }\n  }\n}\n","export default function trim(key) {\n  return this.storage.get(key).trim();\n}\n","export { default } from './parse.js';\n","export default function parse(value) {\n  try {\n    return JSON.parse(value);\n  } catch (err) {\n    return value;\n  }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export { default } from './core/index.js';\n"],"names":["config","namespace","separator","trimKeys","expiry","createNamespace","switchNamespace","getCurrentNamespace","get","setSeparator","getSeparator","default","storageoperations","ensureSupport","db","local","window","localStorage","session","sessionStorage","storage","Error","working","clear","from","parse","key","seprator","namespcaekey","concat","value","getItem","getFormattedData","result","i","size","length","completkey","_completkey$split","split","_completkey$split2","_slicedToArray","objectkey","currentkey","has","set","remove","keys","trim","setFormattedData","index","push","storageMethods","_objectSpread","count","removeItem","undefined","setItem","_typeof","JSON","stringify","String","obj","k","err"],"sourceRoot":""}